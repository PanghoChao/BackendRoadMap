# 동시성과 병렬성 
Concurrency(동시성) , parallelism(병렬성)은 헷갈리기 쉬운 개념이다. 이번에 명확히 짚고 넘어가고자한다.

<p align= center><img src ="../images/3.OS_and_General_Knowledge/5-1.ConcurencyAndParallelism.png" width= 80%></p>
<p align= center> 요약</P>

## Parallelism
- Parallelism은 여러 코어에서 여러 작업을 동시에 수행하는 것
- 코어가 하나밖에 없다면 병렬적으로 프로그램을 실행할 수가 없다.
- 하나의 코어에서 하던 작업을 세개의 코어에서 나누어 하니 이론적으로는 성능이 3배까지 좋아질 수 있다. 
- 하지만 여러작업을 동시에 수행하니 race condition 혹은 동기화 문제가 발생 할 수 있다. 

## Concurrency
- 빠르게 전환하며 여러작업을 수행하여 동시에 여러 작업이 실행되는 것처럼 보이는 것
- 한개의 코어에서도 여러작업을 실행할 수 있고, 작업 간에는 Context Switch 가 일어난다.


## 동기화문제 
- 동기화 문제는 Concurrent한 Task 사이에서 발생한다.
   - 즉, 여러 작업이 동시에 공유된 자원에 접근하려 할 대 발생한다. 
 
 (ex) 쉽게 그림으로 예를 들어보자 
<p align= center><img src ="../images/3.OS_and_General_Knowledge/5-2.synchronization.png" width= 50%></p>

 - 원래대로라면 Data에 1을 더하고, 다시 1을 뺐으니 작업이 끝나면 Data값이 100이여야 한다. 
 - 하지만, **동기화 문제가 발생하면** Data에 99혹은 101이 들어가 있을 수 있다. 
 
 (ex)보다 더 자세히 들어가보자 
<p align= center><img src ="../images/3.OS_and_General_Knowledge/5-3.synchronizationReason.png" width= 50%></p>
 
 > ① Task1이  Data에 100을 읽어 온다.  
 > ② Task2이  Data에 100을 읽어 온다.  
 > ③ Task1에서 100에 1을 더한다.  
 > ④ Task2에서 100에 1을 뺀다.  
 > ⑤ Task1이 결과값을 Data에 적는다.  
 > ⑥ Task2이 결과값을 Data에 적는다.  

- 위 결과값은 99가 나올것이다. 
- 위와 같이 Task가 동시에 접근하게되면 문제가 발생한다. 그래서 이를 막기 위한 **동기화 기법**을 사용해줘야 한다.
